import * as assert from 'assert'
import * as vscode from 'vscode'

import {
    escapeUnicode,
    escapeUnicodeAll,
    unescapeUnicode,
} from '../../../src/commands/escapes/unicode'

suite('Escape Unicode Tests', () => {

    test('escapeUnicode', () => {
        assert.equal(null, escapeUnicode(null))
        assert.equal(undefined, escapeUnicode(undefined))
        assert.equal('', escapeUnicode(''))
        assert.equal(' ', escapeUnicode(' '))

        assert.equal('0Aa', escapeUnicode('0Aa'))
        assert.equal('\\ud867\\ude3d \\ud867\\ude3d \\ud867\\ude3d', escapeUnicode('\u{29e3d} \uD867\uDE3D 𩸽'))
    })

    test('escapeUnicodeAll', () => {
        assert.equal(null, escapeUnicodeAll(null))
        assert.equal(undefined, escapeUnicodeAll(undefined))
        assert.equal('', escapeUnicodeAll(''))
        assert.equal('\\u0020', escapeUnicodeAll(' '))

        assert.equal('\\u0030\\u0041\\u0061', escapeUnicodeAll('0Aa'))
        assert.equal('\\ud867\\ude3d\\u0020\\ud867\\ude3d\\u0020\\ud867\\ude3d', escapeUnicodeAll('\u{29e3d} \uD867\uDE3D 𩸽'))
    })

    test('unescapeUnicode', () => {
        assert.equal(null, unescapeUnicode(null))
        assert.equal(undefined, unescapeUnicode(undefined))
        assert.equal('', unescapeUnicode(''))
        assert.equal(' ', unescapeUnicode('\\u0020'))
        assert.equal('     ', unescapeUnicode(' \\u0020 \\u0020 '))

        let strings = [
            '&quot;',
            '"',
            '&#039;',
            '\'',
            '&lt;',
            '<',
            '&gt;',
            '>',
            '&iexcl;',
            '¡',
            '&cent;',
            '¢',
            '&pound;',
            '£',
            '&curren;',
            '¤',
            '&yen;',
            '¥',
            '&brvbar;',
            '¦',
            '&sect;',
            '§',
            '&uml;',
            '¨',
            '&copy;',
            '©',
            '&ordf;',
            'ª',
            '&laquo;',
            '«',
            '&not;',
            '¬',
            '&reg;',
            '®',
            '&macr;',
            '¯',
            '&deg;',
            '°',
            '&plusmn;',
            '±',
            '&sup2;',
            '²',
            '&sup3;',
            '³',
            '&acute;',
            '´',
            '&micro;',
            'µ',
            '&para;',
            '¶',
            '&middot;',
            '·',
            '&cedil;',
            '¸',
            '&sup1;',
            '¹',
            '&ordm;',
            'º',
            '&raquo;',
            '»',
            '&frac14;',
            '¼',
            '&frac12;',
            '½',
            '&frac34;',
            '¾',
            '&iquest;',
            '¿',
            '&Agrave;',
            'À',
            '&Aacute;',
            'Á',
            '&Acirc;',
            'Â',
            '&Atilde;',
            'Ã',
            '&Auml;',
            'Ä',
            '&Aring;',
            'Å',
            '&AElig;',
            'Æ',
            '&Ccedil;',
            'Ç',
            '&Egrave;',
            'È',
            '&Eacute;',
            'É',
            '&Ecirc;',
            'Ê',
            '&Euml;',
            'Ë',
            '&Igrave;',
            'Ì',
            '&Iacute;',
            'Í',
            '&Icirc;',
            'Î',
            '&Iuml;',
            'Ï',
            '&ETH;',
            'Ð',
            '&Ntilde;',
            'Ñ',
            '&Ograve;',
            'Ò',
            '&Oacute;',
            'Ó',
            '&Ocirc;',
            'Ô',
            '&Otilde;',
            'Õ',
            '&Ouml;',
            'Ö',
            '&times;',
            '×',
            '&Oslash;',
            'Ø',
            '&Ugrave;',
            'Ù',
            '&Uacute;',
            'Ú',
            '&Ucirc;',
            'Û',
            '&Uuml;',
            'Ü',
            '&Yacute;',
            'Ý',
            '&THORN;',
            'Þ',
            '&szlig;',
            'ß',
            '&agrave;',
            'à',
            '&aacute;',
            'á',
            '&acirc;',
            'â',
            '&atilde;',
            'ã',
            '&auml;',
            'ä',
            '&aring;',
            'å',
            '&aelig;',
            'æ',
            '&ccedil;',
            'ç',
            '&egrave;',
            'è',
            '&eacute;',
            'é',
            '&ecirc;',
            'ê',
            '&euml;',
            'ë',
            '&igrave;',
            'ì',
            '&iacute;',
            'í',
            '&icirc;',
            'î',
            '&iuml;',
            'ï',
            '&eth;',
            'ð',
            '&ntilde;',
            'ñ',
            '&ograve;',
            'ò',
            '&oacute;',
            'ó',
            '&ocirc;',
            'ô',
            '&otilde;',
            'õ',
            '&ouml;',
            'ö',
            '&divide;',
            '÷',
            '&oslash;',
            'ø',
            '&ugrave;',
            'ù',
            '&uacute;',
            'ú',
            '&ucirc;',
            'û',
            '&uuml;',
            'ü',
            '&yacute;',
            'ý',
            '&thorn;',
            'þ',
            '&yuml;',
            'ÿ',
            '&OElig;',
            'Œ',
            '&oelig;',
            'œ',
            '&Scaron;',
            'Š',
            '&scaron;',
            'š',
            '&Yuml;',
            'Ÿ',
            '&fnof;',
            'ƒ',
            '&circ;',
            'ˆ',
            '&tilde;',
            '˜',
            '&Alpha;',
            'Α',
            '&Beta;',
            'Β',
            '&Gamma;',
            'Γ',
            '&Delta;',
            'Δ',
            '&Epsilon;',
            'Ε',
            '&Zeta;',
            'Ζ',
            '&Eta;',
            'Η',
            '&Theta;',
            'Θ',
            '&Iota;',
            'Ι',
            '&Kappa;',
            'Κ',
            '&Lambda;',
            'Λ',
            '&Mu;',
            'Μ',
            '&Nu;',
            'Ν',
            '&Xi;',
            'Ξ',
            '&Omicron;',
            'Ο',
            '&Pi;',
            'Π',
            '&Rho;',
            'Ρ',
            '&Sigma;',
            'Σ',
            '&Tau;',
            'Τ',
            '&Upsilon;',
            'Υ',
            '&Phi;',
            'Φ',
            '&Chi;',
            'Χ',
            '&Psi;',
            'Ψ',
            '&Omega;',
            'Ω',
            '&alpha;',
            'α',
            '&beta;',
            'β',
            '&gamma;',
            'γ',
            '&delta;',
            'δ',
            '&epsilon;',
            'ε',
            '&zeta;',
            'ζ',
            '&eta;',
            'η',
            '&theta;',
            'θ',
            '&iota;',
            'ι',
            '&kappa;',
            'κ',
            '&lambda;',
            'λ',
            '&mu;',
            'μ',
            '&nu;',
            'ν',
            '&xi;',
            'ξ',
            '&omicron;',
            'ο',
            '&pi;',
            'π',
            '&rho;',
            'ρ',
            '&sigmaf;',
            'ς',
            '&sigma;',
            'σ',
            '&tau;',
            'τ',
            '&upsilon;',
            'υ',
            '&phi;',
            'φ',
            '&chi;',
            'χ',
            '&psi;',
            'ψ',
            '&omega;',
            'ω',
            '&thetasym;',
            'ϑ',
            '&upsih;',
            'ϒ',
            '&piv;',
            'ϖ',
            '&ndash;',
            '–',
            '&mdash;',
            '—',
            '&lsquo;',
            '‘',
            '&rsquo;',
            '’',
            '&sbquo;',
            '‚',
            '&ldquo;',
            '“',
            '&rdquo;',
            '”',
            '&bdquo;',
            '„',
            '&dagger;',
            '†',
            '&Dagger;',
            '‡',
            '&bull;',
            '•',
            '&hellip;',
            '…',
            '&permil;',
            '‰',
            '&prime;',
            '′',
            '&Prime;',
            '″',
            '&lsaquo;',
            '‹',
            '&rsaquo;',
            '›',
            '&oline;',
            '‾',
            '&frasl;',
            '⁄',
            '&euro;',
            '€',
            '&image;',
            'ℑ',
            '&weierp;',
            '℘',
            '&real;',
            'ℜ',
            '&trade;',
            '™',
            '&alefsym;',
            'ℵ',
            '&larr;',
            '←',
            '&uarr;',
            '↑',
            '&rarr;',
            '→',
            '&darr;',
            '↓',
            '&harr;',
            '↔',
            '&crarr;',
            '↵',
            '&lArr;',
            '⇐',
            '&uArr;',
            '⇑',
            '&rArr;',
            '⇒',
            '&dArr;',
            '⇓',
            '&hArr;',
            '⇔',
            '&forall;',
            '∀',
            '&part;',
            '∂',
            '&exist;',
            '∃',
            '&empty;',
            '∅',
            '&nabla;',
            '∇',
            '&isin;',
            '∈',
            '&notin;',
            '∉',
            '&ni;',
            '∋',
            '&prod;',
            '∏',
            '&sum;',
            '∑',
            '&minus;',
            '−',
            '&lowast;',
            '∗',
            '&radic;',
            '√',
            '&prop;',
            '∝',
            '&infin;',
            '∞',
            '&ang;',
            '∠',
            '&and;',
            '∧',
            '&or;',
            '∨',
            '&cap;',
            '∩',
            '&cup;',
            '∪',
            '&int;',
            '∫',
            '&there4;',
            '∴',
            '&sim;',
            '∼',
            '&cong;',
            '≅',
            '&asymp;',
            '≈',
            '&ne;',
            '≠',
            '&equiv;',
            '≡',
            '&le;',
            '≤',
            '&ge;',
            '≥',
            '&sub;',
            '⊂',
            '&sup;',
            '⊃',
            '&nsub;',
            '⊄',
            '&sube;',
            '⊆',
            '&supe;',
            '⊇',
            '&oplus;',
            '⊕',
            '&otimes;',
            '⊗',
            '&perp;',
            '⊥',
            '&sdot;',
            '⋅',
            '&lceil;',
            '⌈',
            '&rceil;',
            '⌉',
            '&lfloor;',
            '⌊',
            '&rfloor;',
            '⌋',
            '&lang;',
            '〈',
            '&rang;',
            '〉',
            '&loz;',
            '◊',
            '&spades;',
            '♠',
            '&clubs;',
            '♣',
            '&hearts;',
            '♥',
            '&diams;',
            '♦',
            '&nbsp;',
            ' ',
            '&amp;',
            '&',
            '&apos;',
            '`',
            '&#x2f;',
            '/',

            '&#x61;&#x62;&#x63;&#x64;&#x65;&#x66;',
            'abcdef',
            '&#x3042;&#x3044;&#x3046;&#x3048;&#x304a;',
            'あいうえお',
            '&#x29e3d;&#x29e3d;&#x29e3d;',
            '\u{29e3d}\uD867\uDE3D𩸽',
            '&#x20b9f;&#x20b9f;',
            '\u{20b9f}𠮟',
            '&#x30a6;&#x30a3;&#x30ad;&#x30da;&#x30c7;&#x30a3;&#x30a2;',
            'ウィキペディア',
        ]

        strings.forEach(str => {
            assert.equal(str, unescapeUnicode(escapeUnicode(str)))
            assert.equal(str, unescapeUnicode(escapeUnicodeAll(str)))
        })
    })


})
